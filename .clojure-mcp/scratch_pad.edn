{"queries_refactor_plan" {"overview" "Break dm.queries into table-specific namespaces in db/ folder", "current_structure" {"file" "src/dm/queries.clj", "lines" 395, "sections" ["Helper functions" "Species" "Classes" "Attributes" "Skills" "Characters" "Character Attributes" "Character Skills" "Items"]}, "proposed_structure" {"shared" "src/dm/db/query_helpers.clj - Shared query functions", "tables" ["src/dm/db/species.clj" "src/dm/db/class.clj" "src/dm/db/attribute_name.clj" "src/dm/db/skill.clj" "src/dm/db/character.clj" "src/dm/db/character_attribute.clj" "src/dm/db/character_skill.clj" "src/dm/db/item.clj"]}, "implementation_strategy" {"phase_1" "Extract query-helpers to shared namespace", "phase_2" "Create one table namespace (species) as template", "phase_3" "Create remaining table namespaces (7 more)", "phase_4" "Update imports across codebase", "phase_5" "Keep dm.queries as facade for backwards compatibility (optional)"}, "benefits" ["Improves code organization and discoverability" "Reduces namespace size (395 lines â†’ ~50 per namespace)" "Easier to locate queries for specific entities" "Better for team navigation and module boundaries" "Follows domain-driven design patterns"], "risks" ["Requires updating imports throughout codebase" "Tests need updated imports" "Routes need updated imports" "Can be mitigated by keeping dm.queries as re-export facade"]}}